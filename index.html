<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Mathematics Tutorial</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
  <!-- Boxicons -->
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
  <!-- Custom CSS -->
  <link rel="stylesheet" href="style.css">
  <!-- Google Identity Services -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <style>
    :root { --header-height: 80px; }
    html, body { font-size: 18px; }
  </style>
</head>

<body data-theme="light">
  <!-- Preloader -->
  <div id="preloader">
    <div class="loader-container">
      <div class="loader">
        <div class="loader-face front"></div>
        <div class="loader-face back"></div>
        <div class="loader-face right"></div>
        <div class="loader-face left"></div>
        <div class="loader-face top"></div>
        <div class="loader-face bottom"></div>
      </div>
    </div>
  </div>

  <!-- Header / Navbar -->
  <header class="header">
    <div class="container" style="display: flex; align-items: center; justify-content: space-between;">
      <img src="logo.png" alt="Logo" class="logo" />
      <nav class="nav">
        <a href="#home">Home</a>
        <a href="#about">About</a>
        <a href="#skills">Skills</a>
        <a href="#notes">Notes</a>
        <a href="#questions">Questions</a>
        <a href="#testimonials">Testimonials</a>
        <a href="#contact" class="btn small">Contact</a>
      </nav>
      <div class="profile-info" id="profile-info" style="display: none;"></div>
      <button class="theme-toggle" aria-label="Toggle theme" aria-expanded="false">
        <i class="bx bx-moon"></i>
      </button>
      <button class="nav-toggle" aria-label="Toggle menu" aria-expanded="false">
        <i class="bx bx-menu"></i>
      </button>
    </div>
  </header>

  <!-- Login Screen -->
  <section class="login-container" id="login-screen">
    <div class="login-box" id="login-box">
      <div id="g_id_onload"
        data-client_id="504410333231-pm1tcs3nrdurskku87dbqev71o6iogde.apps.googleusercontent.com"
        data-callback="handleCredentialResponse"
        data-auto_prompt="false">
      </div>
      <div class="g_id_signin" data-type="standard" data-shape="pill" data-theme="outline"
        data-text="signin_with" data-size="large">
      </div>
      <div class="welcome-message" id="welcome-message"></div>
      <button class="signout-button" id="signout-btn" style="display:none;">Sign Out</button>
    </div>
  </section>

  <!-- Main Content: hidden until login -->
  <div id="main-content" style="display: none;">
    <main>
      <!-- Hero -->
      <section id="home" class="hero">
        <div class="container hero-grid">
          <div class="hero-info">
            <h1>Hi, I’m <span>Shashi Kant</span></h1>
            <p>
              Mathematics & Science tutor with 8+ years’ experience, helping
              students achieve top grades through interactive lessons.
            </p>
            <a href="#" class="btn">Download CV</a>
          </div>
          <div class="hero-img">
            <img src="shashi.png" alt="Shashi Kant" />
          </div>
        </div>
      </section>

      <!-- About -->
      <section id="about" class="about">
        <div class="container about-grid">
          <div class="about-img">
            <img src="shashi.png" alt="Tutor portrait" />
          </div>
          <div class="about-info">
            <h2>About Me</h2>
            <p>
              I’m <strong>Shashi Kant</strong>, a dedicated educator holding a
              B.Sc. (Mathematics) and M.Ed. Awarded “Best Tutor of the Year 2023.”
              I blend real-world examples with personalized coaching to build
              confidence and mastery.
            </p>
            <div class="info-cards">
              <div class="card">
                <h4>Education</h4>
                <p>
                  B.Sc. (Mathematics), Patna University (2013)<br />
                  M.Ed., IGNOU (2015)
                </p>
              </div>
              <div class="card">
                <h4>Experience</h4>
                <p>
                  8+ years tutoring ICSE, CBSE & state boards in Math & Science.
                </p>
              </div>
              <div class="card">
                <h4>Certifications</h4>
                <p>
                  Google Certified Educator Level 1<br />
                  Advanced Excel Trainer
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Other sections (Skills, Notes, Questions, Testimonials, Contact) -->
      <!-- unchanged -->
    </main>

    <footer class="footer">
      <div class="container">
        <p>© 2025 Shashi Kant • The Mathematics Tutorial</p>
        <a href="#home" class="back-top"><i class="bx bx-up-arrow-alt"></i></a>
      </div>
    </footer>
  </div>

  <!-- Inline Login Logic -->
  <script>
    function handleCredentialResponse(response) {
      const data = parseJwt(response.credential);

      // Hide login, show main
      document.getElementById('login-screen').style.display = 'none';
      document.getElementById('main-content').style.display = 'block';

      // Navbar profile
      document.getElementById('profile-info').innerHTML = `
        <img src="${data.picture}" alt="Profile">
        <span>${data.name}</span>
      `;
      document.getElementById('profile-info').style.display = 'flex';

      // Optional welcome message
      document.getElementById('welcome-message').textContent = `Welcome, ${data.name}!`;
      document.getElementById('signout-btn').style.display = 'inline-block';
    }

    function parseJwt(token) {
      const base64Url = token.split('.')[1];
      const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
      const jsonPayload = decodeURIComponent(atob(base64)
        .split('')
        .map(c => '%'+('00'+c.charCodeAt(0).toString(16)).slice(-2))
        .join('')
      );
      return JSON.parse(jsonPayload);
    }

    document.getElementById('signout-btn').addEventListener('click', () => {
      location.reload();
    });

    // Preloader fade-out
    window.addEventListener('load', () => {
      const pre = document.getElementById('preloader');
      if (!pre) return;
      pre.classList.add('fade-out');
      setTimeout(() => pre.remove(), 900);
    });
  </script>

  <!-- External Scripts -->
  <script src="https://unpkg.com/scrollreveal"></script>
  <script src="script.js"></script>
</body>

</html>
